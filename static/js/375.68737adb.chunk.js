"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[375],{1375:function(e,n,r){r.r(n),r.d(n,{default:function(){return y}});var t,o,a,i,c,s=r(885),u=r(7689),l=r(2791),d=r(2134),p=r(168),h=r(6444),x=r(6731),f=(0,h.ZP)(x.rU)(t||(t=(0,p.Z)(["\nmargin-left: 12px;\npadding: 4px;\ndisplay: inline-flex;\nalign-items: center;\ngap: 4px;\ntext-decoration: none;\nborder: 1px solid black;\nborder-radius: 4px;\ncolor: black;\nbackground-color: #c6bacb;\n\n:hover, :focus {\n    color: white;\n    background-color:#c71585;\n}\n"]))),v=r(184),g=function(e){var n=e.to,r=e.children;return(0,v.jsxs)(f,{to:n,children:[(0,v.jsx)(d.kyg,{}),r]})},m=r(4390),b=h.ZP.div(o||(o=(0,p.Z)(["\n    display: flex;\n    gap: 12px;\n    padding: 12px;\n    border-bottom: solid 1px grey;\n    box-shadow: 0px 3px 3px -3px rgba(0,0,0,0.55);\n"]))),j=h.ZP.div(a||(a=(0,p.Z)(["\n    border-bottom: gray;\n    padding: 12px;\n    border-bottom: solid 1px grey;\n    box-shadow: 0px 3px 3px -3px rgba(0,0,0,0.55);\n"]))),w=(0,h.ZP)(x.OL)(i||(i=(0,p.Z)(["\n    padding: 8px 16px;\n    border-radius: 4px;\n    text-decoration: none;\n    color: black;\n    font-weight: 500;\n\n    &.active {\n    color: #C71585;\n    }\n\n    :hover {\n        text-decoration: underline;\n    }\n"]))),k=h.ZP.ul(c||(c=(0,p.Z)(["\ndisplay: flex;\nflex-direction: column; \ngap: 20px;\n"])));function y(){var e,n,r=(0,u.UO)().movieId,t=(0,l.useState)(null),o=(0,s.Z)(t,2),a=o[0],i=o[1],c=(0,u.TH)(),d=null!==(e=null===c||void 0===c||null===(n=c.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies",p=null!==a&&void 0!==a?a:{},h=p.poster,x=p.title,f=p.name,y=p.releaseYear,_=p.userScore,Z=p.overview,P=p.genres;return(0,l.useEffect)((function(){r&&m.Pg(r).then(i)}),[r]),(0,v.jsx)("div",{children:a&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(g,{to:d,children:"Go back"}),(0,v.jsxs)(b,{children:[h?(0,v.jsx)("img",{src:h,alt:"movie cover"}):(0,v.jsx)("img",{src:"https://i.ibb.co/BrYLsTv/default-movie-poster-min.jpg",alt:"movie cover",width:"200px"}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("h2",{children:[x||f,"(",y,")"]}),(0,v.jsxs)("p",{children:["User Score: ",_,"%"]}),(0,v.jsx)("h3",{children:"Overview"}),(0,v.jsx)("p",{children:Z}),(0,v.jsx)("h4",{children:"Genres"}),(0,v.jsx)("p",{children:P.map((function(e){return e.name})).join(", ")})]})]}),(0,v.jsxs)(j,{children:[(0,v.jsx)("p",{children:"Additional information"}),(0,v.jsxs)(k,{children:[(0,v.jsx)("li",{children:(0,v.jsx)(w,{to:"cast",state:{from:c},children:"Cast"})}),(0,v.jsx)("li",{children:(0,v.jsx)(w,{to:"reviews",state:{from:c},children:"Reviews"})})]}),(0,v.jsx)(l.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading..."}),children:(0,v.jsx)(u.j3,{})})]})]})})}},4390:function(e,n,r){r.d(n,{CJ:function(){return d},IQ:function(){return g},IR:function(){return h},Jh:function(){return m},Pg:function(){return f}});var t=r(5861),o=r(7757),a=r.n(o),i=r(4569),c=r.n(i),s="6860d409037e6854532ae07af7af1d83",u="https://api.themoviedb.org/3",l="https://image.tmdb.org/t/p/w200";function d(){return p.apply(this,arguments)}function p(){return(p=(0,t.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("".concat(u,"/trending/all/day?api_key=").concat(s));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),new Error("There is no movie");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=(0,t.Z)(a().mark((function e(n){var r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:s,language:"en-US",page:1,include_adult:!1,query:n}),e.prev=1,e.next=4,c().get("".concat(u,"/search/movie?").concat(r));case 4:return t=e.sent,e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(1),new Error("There is no movie with name ".concat(n));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=(0,t.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c().get("/movie/".concat(n,"?")).then((function(e){var n=e.data,r=n.id,t=n.poster_path,o=n.title,a=n.name,i=n.release_date,c=n.vote_average,s=n.overview,u=n.genres;return{id:r,poster:l+t,title:o,name:a,releaseYear:new Date(i).getFullYear(),userScore:Math.round(10*c),overview:s,genres:u}})).catch((function(e){console.log(e.message)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c().defaults.baseURL="https://api.themoviedb.org/3",c().defaults.params={api_key:"2123fea73978ac77fe6a3f347cf7ced6",include_adult:!1};var g=function(e){return c().get("/movie/".concat(e,"/credits?")).then((function(e){return e.data.cast})).catch((function(e){console.log(e.message)}))},m=function(e){return c().get("/movie/".concat(e,"/reviews?")).then((function(e){return e.data.results})).catch((function(e){console.log(e.message)}))}}}]);
//# sourceMappingURL=375.68737adb.chunk.js.map