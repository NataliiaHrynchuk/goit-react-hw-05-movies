"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[375],{1375:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r,a,o,i,c,s=t(885),u=t(7689),d=t(2791),l=t(2134),p=t(168),h=t(6444),f=t(6731),x=(0,h.ZP)(f.rU)(r||(r=(0,p.Z)(["\nmargin-left: 12px;\npadding: 4px;\ndisplay: inline-flex;\nalign-items: center;\ngap: 4px;\ntext-decoration: none;\nborder: 1px solid black;\nborder-radius: 4px;\ncolor: black;\nbackground-color: #c6bacb;\n\n:hover, :focus {\n    color: white;\n    background-color:#c71585;\n}\n"]))),v=t(184),g=function(e){var n=e.to,t=e.children;return(0,v.jsxs)(x,{to:n,children:[(0,v.jsx)(l.kyg,{}),t]})},m=t(4390),b=h.ZP.div(a||(a=(0,p.Z)(["\n    display: flex;\n    gap: 12px;\n    padding: 12px;\n    border-bottom: solid 1px grey;\n    box-shadow: 0px 3px 3px -3px rgba(0,0,0,0.55);\n"]))),j=h.ZP.div(o||(o=(0,p.Z)(["\n    border-bottom: gray;\n    padding: 12px;\n    border-bottom: solid 1px grey;\n    box-shadow: 0px 3px 3px -3px rgba(0,0,0,0.55);\n"]))),w=(0,h.ZP)(f.OL)(i||(i=(0,p.Z)(["\n    padding: 8px 16px;\n    border-radius: 4px;\n    text-decoration: none;\n    color: black;\n    font-weight: 500;\n\n    &.active {\n    color: #C71585;\n    }\n\n    :hover {\n        text-decoration: underline;\n    }\n"]))),_=h.ZP.ul(c||(c=(0,p.Z)(["\ndisplay: flex;\nflex-direction: column; \ngap: 20px;\n"]))),k="resolved",y="rejected";function Z(){var e,n,t=(0,u.UO)().movieId,r=(0,d.useState)(""),a=(0,s.Z)(r,2),o=a[0],i=a[1],c=(0,d.useState)("idle"),l=(0,s.Z)(c,2),p=l[0],h=l[1],f=(0,d.useState)(null),x=(0,s.Z)(f,2),Z=x[0],P=x[1],S=(0,u.TH)(),U=null!==(e=null===S||void 0===S||null===(n=S.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies";return(0,d.useEffect)((function(){t&&m.Pg(t).then((function(e){console.log(e),i(e),h(k)})).catch((function(e){P(e),h(y)}))}),[t]),(0,v.jsxs)("div",{children:[p===y&&(0,v.jsx)("p",{children:Z.message}),o&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(g,{to:U,children:"Go back"}),(0,v.jsxs)(b,{children:[o.poster_path?(0,v.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(o.poster_path),alt:"movie cover"}):(0,v.jsx)("img",{src:"https://i.ibb.co/BrYLsTv/default-movie-poster-min.jpg",alt:"movie cover",width:"200px"}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h2",{children:o.title||o.name}),(0,v.jsxs)("p",{children:["User Score: ",Math.round(10*o.vote_average),"%"]}),(0,v.jsx)("h3",{children:"Overview"}),(0,v.jsx)("p",{children:o.overview}),(0,v.jsx)("h4",{children:"Genres"}),(0,v.jsx)("p",{children:o.genres.map((function(e){return e.name})).join(", ")})]})]}),(0,v.jsxs)(j,{children:[(0,v.jsx)("p",{children:"Additional information"}),(0,v.jsxs)(_,{children:[(0,v.jsx)("li",{children:(0,v.jsx)(w,{to:"cast",state:{from:S},children:"Cast"})}),(0,v.jsx)("li",{children:(0,v.jsx)(w,{to:"reviews",state:{from:S},children:"Reviews"})})]}),(0,v.jsx)(d.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading..."}),children:(0,v.jsx)(u.j3,{})})]})]})]})}},4390:function(e,n,t){t.d(n,{CJ:function(){return l},IQ:function(){return g},IR:function(){return h},Jh:function(){return m},Pg:function(){return x}});var r=t(5861),a=t(7757),o=t.n(a),i=t(4569),c=t.n(i),s="6860d409037e6854532ae07af7af1d83",u="https://api.themoviedb.org/3";c().defaults.baseURL="https://api.themoviedb.org/3",c().defaults.params={api_key:"2123fea73978ac77fe6a3f347cf7ced6",include_adult:!1};var d="https://image.tmdb.org/t/p/w200";function l(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("".concat(u,"/trending/all/day?api_key=").concat(s));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),new Error("There is no movie");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({api_key:s,language:"en-US",page:1,include_adult:!1,query:n}),e.prev=1,e.next=4,c().get("".concat(u,"/search/movie?").concat(t));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(1),new Error("There is no movie with name ".concat(n));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function x(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c().get("/movie/".concat(n,"?")).then((function(e){var n=e.data,t=n.id,r=n.poster_path,a=n.title,o=n.name,i=n.release_date,c=n.vote_average,s=n.overview,u=n.genres;return{id:t,poster:d+r,title:a,name:o,releaseYear:new Date(i).getFullYear(),userScore:Math.round(10*c),overview:s,genres:u}})).catch((function(e){console.log(e.message)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){return c().get("/movie/".concat(e,"/credits?")).then((function(e){return e.data.cast.map((function(e){var n=e.id,t=e.name,r=e.character,a=e.profile_path;return{id:n,name:t,character:r,photo:a?d+a:"http://placehold.it/100x200"}}))})).catch((function(e){console.log(e.message)}))},m=function(e){return c().get("/movie/".concat(e,"/reviews?")).then((function(e){return e.data.results.map((function(e){return{id:e.id,author:e.author,content:e.content}}))})).catch((function(e){console.log(e.message)}))}}}]);
//# sourceMappingURL=375.8e5de5c1.chunk.js.map